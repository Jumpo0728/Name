<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MegaCollab</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="auth-view" class="view hidden">
        <div class="auth-container">
            <h1>MegaCollab</h1>
            <div class="forms">
                <form id="login-form">
                    <h2>Login</h2>
                    <input type="email" name="email" placeholder="Email" required value="user@example.com">
                    <input type="password" name="password" placeholder="Password" required value="password123">
                    <button type="submit">Login</button>
                </form>
                <form id="signup-form">
                    <h2>Signup</h2>
                    <input type="text" name="username" placeholder="Username" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <button type="submit">Signup</button>
                </form>
            </div>
        </div>
    </div>

    <div id="dashboard-view" class="view hidden">
        <header>
            <h1>Dashboard</h1>
            <span id="username-display"></span>
            <button id="logout-btn">Logout</button>
        </header>
        <div class="content">
            <button id="new-project-btn">New Project</button>
            <div id="project-list" class="grid"></div>
        </div>
    </div>

    <div id="editor-view" class="view hidden">
        <header>
            <button onclick="showDashboard()">Back</button>
            <span id="project-name">Project</span>
            <span class="status">Live</span>
        </header>
        <div class="workspace">
            <div class="sidebar">
                <h3>Files</h3>
                <div id="file-list"></div>
                <button onclick="alert('File creation not impl in UI yet')">+ File</button>
            </div>
            <div class="main-editor">
                <div class="toolbar">
                    <button id="run-btn" style="background: green;">â–¶ Run</button>
                    <button id="clear-console-btn">Clear Console</button>
                </div>
                <div id="editor-container"></div>
                <div id="console-panel" style="height: 150px; background: #000; overflow: auto; padding: 10px; font-family: monospace; border-top: 1px solid #444;">
                    <div style="color: #666">Console Ready...</div>
                </div>
            </div>
        </div>
    </div>
    <iframe id="preview-frame" style="display:none;"></iframe>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="js/crdt.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
